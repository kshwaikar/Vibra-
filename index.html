<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vibra â€“ Personal Wellness & Mood Companion</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <div id="loginScreen">
        <div class="login-card card">
            <div class="logo">ğŸŒˆ</div>
            <h1>Vibra</h1>
            <p class="tagline">Your moods, habits, and personal wellness â€“ all in one app.</p>
            <button class="google-btn" onclick="handleLogin()">
                <svg width="24" height="24" viewBox="0 0 24 24">
                    <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                    <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                    <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                    <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                </svg>
                Continue with Google
            </button>
        </div>
    </div>

    <div id="mainApp" class="hidden">
        <nav>
            <div class="nav-content">
                <div class="nav-logo">ğŸŒˆ Vibra</div>
                <ul class="nav-menu">
                    <li class="active" onclick="showScreen('dashboard')">Dashboard</li>
                    <li onclick="showScreen('moodCheck')">Mood</li>
                    <li onclick="showScreen('music')">Music</li>
                    <li onclick="showScreen('connect')">Connect</li>
                    <li onclick="showScreen('chatbot')">Chatbot</li>
                    <li onclick="showScreen('profile')">Profile</li>
                </ul>
            </div>
        </nav>

        <div id="dashboardScreen" class="screen container">
            <h2 style="margin: 30px 0; font-size: 32px;">Welcome back, Alex! ğŸ‘‹</h2>
            
            <div class="dashboard-grid">
                <div class="card dashboard-card">
                    <h3>ğŸ”¥ Current Streak</h3>
                    <div class="progress-ring">
                        <svg width="150" height="150">
                            <circle class="progress-ring-circle" cx="75" cy="75" r="65"></circle>
                            <circle class="progress-ring-progress" cx="75" cy="75" r="65" 
                                    stroke-dasharray="408.4" stroke-dashoffset="102.1"></circle>
                        </svg>
                        <div class="progress-text">7</div>
                    </div>
                    <p style="text-align: center; color: var(--text-light);">Days in a row! ğŸ‰</p>
                </div>

                <div class="card dashboard-card">
                    <h3>âœ… Today's Habits</h3>
                    <div class="progress-ring">
                        <svg width="150" height="150">
                            <circle class="progress-ring-circle" cx="75" cy="75" r="65"></circle>
                            <circle class="progress-ring-progress" cx="75" cy="75" r="65" 
                                    stroke-dasharray="408.4" stroke-dashoffset="204.2" id="habitProgress"></circle>
                        </svg>
                        <div class="progress-text" id="habitPercentage">50%</div>
                    </div>
                    <p style="text-align: center; color: var(--text-light);">Keep going!</p>
                </div>
            </div>

            <div class="card">
                <h3>ğŸ“Š Weekly Mood Trends</h3>
                <div class="mood-chart">
                    <div class="mood-bar"> <div class="mood-label">ğŸ˜¢ Sad</div> <div class="mood-bar-fill"> <div class="mood-bar-progress" style="width: 10%">10%</div> </div> </div>
                    <div class="mood-bar"> <div class="mood-label">ğŸ˜Š Happy</div> <div class="mood-bar-fill"> <div class="mood-bar-progress" style="width: 40%">40%</div> </div> </div>
                    <div class="mood-bar"> <div class="mood-label">ğŸ˜Œ Calm</div> <div class="mood-bar-fill"> <div class="mood-bar-progress" style="width: 30%">30%</div> </div> </div>
                    <div class="mood-bar"> <div class="mood-label">âš¡ Energetic</div> <div class="mood-bar-fill"> <div class="mood-bar-progress" style="width: 15%">15%</div> </div> </div>
                    <div class="mood-bar"> <div class="mood-label">ğŸ’– Romantic</div> <div class="mood-bar-fill"> <div class="mood-bar-progress" style="width: 5%">5%</div> </div> </div>
                </div>
            </div>
        </div>

        <div id="profileScreen" class="screen container hidden">
            <div class="card">
                <div class="profile-header">
                    <div class="profile-photo-wrapper">
                        <img src="https://ui-avatars.com/api/?name=Alex+Johnson&size=150&background=A3D9B1&color=fff&bold=true" 
                             alt="Profile Photo" class="profile-photo" id="profilePhoto">
                        
                        <input type="file" id="photoUploadInput" accept="image/*" class="hidden" onchange="handlePhotoUpload(event)">
                        
                        <button class="edit-photo-btn" onclick="triggerPhotoUpload()">
                            <i class="fas fa-camera"></i>
                        </button>

                        <button class="remove-photo-btn" onclick="removeProfilePhoto()">
                            <i class="fas fa-trash-alt"></i>
                        </button>
                    </div>
                     <div class="profile-info">
                        <h2 id="userName">Alex Johnson</h2>
                        <p id="userDetails">ğŸ‚ Age: 24 | ğŸ“ San Francisco, CA</p>
                        <p id="userBio" style="margin-top: 12px; max-width: 500px; margin-left: auto; margin-right: auto;">
                            âœ¨ Wellness enthusiast | ğŸ§˜â€â™€ï¸ Meditation lover | ğŸ“š Avid reader | 
                            Living my best life one mood at a time ğŸŒˆ
                        </p>
                    </div>
                    <div style="display: flex; gap: 12px; justify-content: center; margin-top: 20px;">
                        <button class="btn btn-primary" onclick="shareProfile()"> <i class="fas fa-share-alt"></i> Share Profile </button>
                        <button class="btn btn-secondary" onclick="openEditProfile()"> <i class="fas fa-edit"></i> Edit Profile </button>
                    </div>
                </div>

                <div class="profile-stats">
                    <div class="card stat-card"> <div class="stat-number">127</div> <div class="stat-label">Total Check-ins</div> </div>
                    <div class="card stat-card"> <div class="stat-number">7</div> <div class="stat-label">Day Streak</div> </div>
                    <div class="card stat-card"> <div class="stat-number">89%</div> <div class="stat-label">Habit Score</div> </div>
                </div>
            </div>
        </div>

        <div id="moodCheckScreen" class="screen container hidden">
            <div class="card">
                <div class="mood-selector">
                    <h3>How are you feeling today? ğŸ’­</h3>
                    <div class="mood-options">
                        <button class="mood-btn" data-mood="sad" data-color="#4A90E2" onclick="selectMood(this)"> <span class="mood-emoji">ğŸ˜¢</span> <span>Sad</span> </button>
                        <button class="mood-btn" data-mood="happy" data-color="#F5D76E" onclick="selectMood(this)"> <span class="mood-emoji">ğŸ˜Š</span> <span>Happy</span> </button>
                        <button class="mood-btn" data-mood="calm" data-color="#A3D9B1" onclick="selectMood(this)"> <span class="mood-emoji">ğŸ˜Œ</span> <span>Calm</span> </button>
                        <button class="mood-btn" data-mood="energetic" data-color="#F2994A" onclick="selectMood(this)"> <span class="mood-emoji">âš¡</span> <span>Energetic</span> </button>
                        <button class="mood-btn" data-mood="romantic" data-color="#F28BBD" onclick="selectMood(this)"> <span class="mood-emoji">ğŸ’–</span> <span>Romantic</span> </button>
                    </div>
                </div>

                <div class="habit-checklist">
                    <h3>Today's Wellness Goals ğŸ¯</h3>
                    <div class="add-habit-form">
                        <input type="text" id="newHabitInput" placeholder="Add a new habit (e.g., Go for a walk)">
                        <button class="btn-add-habit" onclick="addHabit()"> <i class="fas fa-plus"></i> Add </button>
                    </div>
                    <div id="habitListContainer"> </div>
                </div>
                <button class="btn btn-primary" style="margin-top: 20px; width: 100%;" onclick="saveMoodAndHabits()"> Save Today's Check-in âœ¨ </button>
            </div>
        </div>

        <div id="musicScreen" class="screen container hidden">
            <div class="card music-card">
                <h2 style="margin-bottom: 24px; text-align: center;">ğŸµ Music for Your Mood</h2>
                <img src="https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=500&h=300&fit=crop" alt="Album Art" class="album-art" id="albumArt">
                <div class="music-info">
                    <h3 id="songTitle">Peaceful Piano</h3>
                    <p id="songArtist">Various Artists â€¢ Perfect for your calm mood ğŸ˜Œ</p>
                </div>
                <div class="music-actions">
                    <button class="platform-btn spotify-btn" onclick="openSpotify()"> <i class="fab fa-spotify"></i> Play on Spotify </button>
                </div>
                <button class="btn btn-secondary" style="margin-top: 20px; width: 100%;" onclick="refreshMusic()"> ğŸ”„ Get Another Suggestion </button>
            </div>
        </div>
        
        <div id="connectScreen" class="screen container hidden">
             <h1 class="connect-title">ğŸ’¬ Vibra Connect</h1>
             <div id="connectInitialView" class="text-center space-y-4 card">
                 <p class="text-lg opacity-90"> Connect with a random person and share mindful, positive chats ğŸ’« </p>
                 <button onclick="connectNewPerson()" class="btn btn-primary connect-now-btn"> Connect Now </button>
             </div>
             <div id="connectChatView" class="hidden w-full max-w-md card connect-chat-card">
                 <div class="connect-chat-header">
                     <h2 class="connect-chat-partner"> Chatting with <span id="partnerName">...</span> </h2>
                     <button onclick="disconnectAndFindNew()" class="btn-new-person"> ğŸ”„ New Person </button>
                 </div>
                 <div class="connect-messages-container" id="connectMessages"> </div>
                 <form onsubmit="handleConnectSend(event)" class="connect-input-area">
                     <input type="text" id="connectInput" placeholder="Type a message..." class="connect-input-field"/>
                     <button type="submit" class="connect-send-btn"> â¤ </button>
                 </form>
             </div>
         </div>

        <div id="chatbotScreen" class="screen container hidden">
            <div class="chatbot-window-fullpage card"> 
                <div class="chatbot-header">
                    <h3>âœ¨ Vibra Assistant</h3> 
                </div>
                <div class="chatbot-messages" id="chatMessages">
                    <div class="message bot">
                        Hi there! I'm your wellness companion. How can I help brighten your day? ğŸŒŸ
                    </div>
                </div>
                <div class="chatbot-input-area">
                    <input type="text" id="chatInput" placeholder="Type your message..." 
                           onkeypress="if(event.key === 'Enter') sendMessage()">
                    <button class="send-btn" onclick="sendMessage()">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
        </div> 

    <div id="editProfileModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>âœï¸ Edit Profile</h3>
                <button class="close-modal" onclick="closeEditProfile()">Ã—</button>
            </div>
            <form onsubmit="event.preventDefault(); saveProfile();">
                <div class="form-group"> <label for="editName">Full Name *</label> <input type="text" id="editName" placeholder="Enter your name" required> </div>
                <div class="form-group"> <label for="editAge">Age</label> <input type="number" id="editAge" placeholder="Enter your age" min="13" max="120"> </div>
                <div class="form-group"> <label for="editLocation">Location</label> <input type="text" id="editLocation" placeholder="City, Country"> </div>
                <div class="form-group"> <label for="editBio">Bio</label> <textarea id="editBio" placeholder="Tell us about yourself..."></textarea> </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeEditProfile()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <script src="script.js"></script>

</body>
</html>
